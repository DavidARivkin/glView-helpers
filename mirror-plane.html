<script src="lib/MirrorPlane.js"></script>

<polymer-element name="mirror-plane" extends="three-js-helper"
  attributes="width length resolution color up">
  <script>Polymer('mirror-plane',{
      width:200,
      length:200,
      resolution:512,
      color: 0x87B4BF,
      up:[0,1,0],
      ready: function() {
        this.object = new MirrorPlane( this.width, this.length, this.resolution, this.color, new THREE.Vector3(this.up[0],this.up[1],this.up[2]) );
        this.super();
      },
      attached:function()
      {
        this.super();
        /*this.object.mirrorCamera.toIgnore=this.object.plane;
        this.object.parent.add( this.object.mirrorCamera );
        this.fire("renderableadded",{renderable:this.object.mirrorCamera, scene:this.object.parent});*/
        this.fire("renderableadded",{renderable:this.object.mirrorCamera, scene:this.object.parent});
      },
      upChanged:function(){
        this.object.setUp( new THREE.Vector3(this.up[0],this.up[1],this.up[2]) );  
      },
    });
  </script>
</polymer-element>
